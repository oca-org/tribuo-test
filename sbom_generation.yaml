version: 0.1
component: build
timeoutInSeconds: 1000
shell: bash

steps:
  - type: Command
    name: "Run Maven cycloneDX plugin command"
    command: |
      # For more details, visit https://github.com/CycloneDX/cyclonedx-maven-plugin/blob/master/README.md
      mvn org.cyclonedx:cyclonedx-maven-plugin:2.7.5:makeAggregateBom -DincludeTestScope=true
outputArtifacts:
  - name: sbom
    type: BINARY
    location: ${OCI_PRIMARY_SOURCE_DIR}/target/bom.json
